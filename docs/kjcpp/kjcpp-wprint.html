<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>kjcpp::wprint</title>
<link rel="stylesheet" href="boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Kjcpp Home">
<link rel="up" href="print.html" title="Print">
<link rel="prev" href="kjcpp-printnl.html" title="kjcpp::printnl">
<link rel="next" href="kjcpp-wprinte.html" title="kjcpp::wprinte">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="spirit-nav">
<a accesskey="p" href="kjcpp-printnl.html"><img src="images/prev.png" alt="Prev"></a><a accesskey="u" href="print.html"><img src="images/up.png" alt="Up"></a><a accesskey="h" href="index.html"><img src="images/home.png" alt="Home"></a><a accesskey="n" href="kjcpp-wprinte.html"><img src="images/next.png" alt="Next"></a>
</div>
<div class="article">
<div class="titlepage">
<div><div><h2 class="title">
<a name="kjcpp-wprint"></a>kjcpp::wprint</h2></div></div>
<hr>
</div>
<h2>
<a name="kjcpp-wprint.h0"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_kjcpp_wprint_kjcpp_pri"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_kjcpp_wprint_kjcpp_pri"><span class="cyan">kjcpp::wprint - kjcpp::print_class</span></a>
      </h2>
<p>
        kjcpp::wprint is the class object of template class kjcpp::print_class, to
        print many different printable values to std::wostream based stream. The
        values to be printed must satisfy kjcpp::wprintable to be printed by kjcpp::wprint.
      </p>
<p>
        kjcpp::wprint is similar to kjcpp::print, see <a class="link" href="kjcpp-print.html" title="kjcpp::print">kjcpp::print</a>
        .
      </p>
<h2>
<a name="kjcpp-wprint.h1"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_kjcpp_print_class"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_kjcpp_print_class"><span class="cyan">kjcpp::print_class</span></a>
      </h2>
<p>
        kjcpp::print_class is a class template for all kjcpp print api.
      </p>
<pre class="programlisting"><span class="keyword">template</span> <span class="special">&lt;</span><span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">chara</span> <span class="identifier">char_xt</span><span class="special">&gt;</span>
	<span class="identifier">requires</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">same_as</span><span class="special">&lt;</span><span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">remove_cvref_t</span><span class="special">&lt;</span><span class="identifier">char_xt</span><span class="special">&gt;,</span> <span class="identifier">char_xt</span><span class="special">&gt;</span>
<span class="keyword">class</span> <span class="identifier">print_class</span><span class="special">;</span>
</pre>
<p>
        The kjcpp::chara concept requires the type char_xt must be one of char, char8_t,
        char16_t, char32_t, wchar_t.
      </p>
<p>
        The "requires" concept constrains that the type char_xt must not
        have const and reference.
      </p>
<p>
        So char or wchar_t is accepted by kjcpp::print_class template, but const
        char, char &amp;, or const char &amp;, etc. are not accepted by kjcpp::print_class
        template.
      </p>
<p>
        Currently, only char and wchar_t are implemented by c++ standard ostream,
        so char8_t, char16_t, char32_t are not available for kjcpp::print_class now.
      </p>
<p>
        (<a class="link" href="kjcpp-print.html" title="kjcpp::print">kjcpp::print</a>)
      </p>
<h2>
<a name="kjcpp-wprint.h2"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_polymorphism_friendly"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_polymorphism_friendly"><span class="cyan">Polymorphism Friendly</span></a>
      </h2>
<p>
        kjcpp::print_class is inheritance and polymorphism friendly. It has virtual
        destructor. Its member data or member functions are protected or public.
      </p>
<h2>
<a name="kjcpp-wprint.h3"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_constructors"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_constructors"><span class="cyan">Constructors</span></a>
      </h2>
<h3>
<a name="kjcpp-wprint.h4"></a>
        <span class="phrase"><a name="kjcpp-wprint.kjcpp_print_class_constructors"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.kjcpp_print_class_constructors">kjcpp::print_class
        constructors</a>
      </h3>
<p>
        A constructor of kjcpp::print_class must initialize __sout to attach an external
        ostream, such as std::cout, or std::wcout.
      </p>
<p>
        4x2 constructors
      </p>
<pre class="programlisting"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment">// These two constructors init to attach external ostream</span>

<span class="identifier">print_class</span><span class="special">(</span><span class="identifier">ostream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ostream__</span><span class="special">);</span>
<span class="identifier">print_class</span><span class="special">(</span><span class="identifier">ofstream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ofstream__</span><span class="special">);</span>

<span class="comment">////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment">// These two constructors init to attach external ostream,</span>
<span class="comment">// and init the three delimiters.</span>

<span class="identifier">print_class</span><span class="special">(</span>
	<span class="identifier">ostream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ostream__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_nested_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_value_delim__</span>
<span class="special">);</span>
<span class="identifier">print_class</span><span class="special">(</span>
	<span class="identifier">ofstream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ofstream__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_nested_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_value_delim__</span>
<span class="special">);</span>

<span class="comment">////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment">// These two constructors init to attach external ostream,</span>
<span class="comment">// and init if it prints \n at the end, </span>
<span class="comment">// and if it aligns left for next line printed.</span>


<span class="identifier">print_class</span><span class="special">(</span>
	<span class="identifier">ostream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ostream__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__newline__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__align_left__</span>
	<span class="special">);</span>
<span class="identifier">print_class</span><span class="special">(</span>
	<span class="identifier">ofstream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ofstream__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__newline__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__align_left__</span>
<span class="special">);</span>

<span class="comment">////////////////////////////////////////////////////////////////////////////////</span>
<span class="comment">// These two constructors init what all above constructors can init.</span>

<span class="identifier">print_class</span><span class="special">(</span>
	<span class="identifier">ostream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ostream__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_nested_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_value_delim__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__newline__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__align_left__</span>
<span class="special">);</span>
<span class="identifier">print_class</span><span class="special">(</span>
	<span class="identifier">ofstream_type</span> <span class="special">&amp;</span> <span class="identifier">__external_ofstream__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_nested_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_range_delim__</span><span class="special">,</span>
	<span class="keyword">const</span> <span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">delim_base</span><span class="special">&lt;</span><span class="identifier">string_type</span><span class="special">&gt;</span> <span class="special">&amp;</span> <span class="identifier">__init_value_delim__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__newline__</span><span class="special">,</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">mb</span> <span class="identifier">__align_left__</span>
<span class="special">);</span>
</pre>
<h2>
<a name="kjcpp-wprint.h5"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_public_member_function"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_public_member_function"><span class="cyan">Public Member Functions</span></a>
      </h2>
<p>
        List public member functions of kjcpp::print_class. The protected members
        are nost listed here.
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            .operator()
          </li>
<li class="listitem">
            .operator bool
          </li>
<li class="listitem">
            .operator !
          </li>
<li class="listitem">
            .set_nested_delim(delim)
          </li>
<li class="listitem">
            .set_range_delim(delim)
          </li>
<li class="listitem">
            .set_value_delim(delim)
          </li>
<li class="listitem">
            .set_delim(delim)
          </li>
<li class="listitem">
            .set_delim(nested_delim, range_delim, value_delim)
          </li>
<li class="listitem">
            .set_align_left(bool)
          </li>
<li class="listitem">
            .set_newline(bool)
          </li>
<li class="listitem">
            .restore_format
          </li>
<li class="listitem">
            .set_ostream
          </li>
<li class="listitem">
            .restore_ostram
          </li>
<li class="listitem">
            .is_ofstream
          </li>
<li class="listitem">
            .restore_all
          </li>
</ul></div>
<h2>
<a name="kjcpp-wprint.h6"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_lock_and_mutex_support"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_lock_and_mutex_support"><span class="cyan">Lock and Mutex Support</span></a>
      </h2>
<p>
        kjcpp::print_class object such as <a class="link" href="kjcpp-print.html" title="kjcpp::print">kjcpp::print</a>
        does not include any threading and mutex header, however, you can pass a
        mutex to kjcpp::print, that mutex will be constrained and matched by kjcpp::param_mutex,
        then the mutex will be locked and unlocked inside the kjcpp::print calling
        stack.
      </p>
<pre class="programlisting"><span class="identifier">std</span><span class="special">::</span><span class="identifier">mutex</span> <span class="identifier">mutex</span><span class="special">;</span>

<span class="identifier">start_a_thread</span><span class="special">;</span>
<span class="comment">// then use mutex ...</span>
<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">print</span><span class="special">(</span><span class="identifier">mutex</span><span class="special">,</span> <span class="string">"Hell"</span><span class="special">,</span> <span class="string">"World!"</span><span class="special">);</span>	<span class="comment">// mutex will be locked and unlocked inside kjcpp::print .</span>
</pre>
<p>
        See <a class="link" href="kjcpp-param_mutex.html" title="kjcpp::param_mutex">kjcpp::param_mutex</a>
      </p>
<h2>
<a name="kjcpp-wprint.h7"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_std_fmtflags_rules"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_std_fmtflags_rules"><span class="cyan">std::fmtflags rules</span></a>
      </h2>
<p>
        Every calling of kjcpp::print, kjcpp::wprint, etc., the std::boolalpha, std::fixed,
        and std::setprecision(10) will be set. The user-defined flags can change
        them, but only be kept in the current calling session, and will be lost after
        ending current print calling, never existed in next print calling. No matter
        how many times of calling kjcpp::print, kjcpp::wprint, etc., and no matter
        how the user set fmt-flags to kjcpp::print, kjcpp::wprint, etc., the standard
        output std::cout, std::cerr, std::wcout etc. will be not affected.
      </p>
<h2>
<a name="kjcpp-wprint.h8"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_public_header"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_public_header"><span class="cyan">Public Header</span></a>
      </h2>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">kjcpp</span><span class="special">/</span><span class="identifier">core</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
</pre>
<h2>
<a name="kjcpp-wprint.h9"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_notice"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_notice"><span class="cyan">Notice</span></a>
      </h2>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
              It prints a newline character at the end, but can be changed with .set_newline
              member function.
            </li>
<li class="listitem">
              It separates each single value by a space, each range or tuple by \n,
              each two-dim range or tuple by \n\n, but can be changed by .set_delim
              member function.
            </li>
<li class="listitem">
              It can print nested ranges and nested tuples, nested ranges of tuples,
              and nested tuples of ranges.
            </li>
<li class="listitem">
              concept requirements:
              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                    Every single value must satisfy <span class="underline">kjcpp::kspt::printable</span>
                    or <span class="underline">kjcpp::kspt::printable_adapter&lt;char_type&gt;</span>,
                    char_type is a related char-type, such as char or wchar_t .
                  </li>
<li class="listitem">
                    All single values stored in the range or tuple must satisfy printable
                    too.
                  </li>
<li class="listitem">
                    Basic printable types satisfy <span class="underline">kjcpp::kspt::printable</span>
                    .
                  </li>
<li class="listitem">
                    Non-basic types must implement <span class="underline">operator&lt;&lt;</span>
                    to satisfy <span class="underline">kjcpp::kspt::printable</span>
                    .
                  </li>
</ul></div>
            </li>
</ul></div></td></tr>
</table></div>
<p>
        <br> <br> <br> <br> <br> <br> <br> <br> <br>
      </p>
<p>
        ____________________________________________________________
      </p>
<p>
        <a class="link" href="kjcpp-print.html" title="kjcpp::print">kjcpp::print</a>
      </p>
<p>
        <a href="." target="_top">Kjcpp Home</a>
      </p>
<p>
        <a href="https://cppfx.xyz" target="_top">cppfx.xyz</a>
      </p>
<h2>
<a name="kjcpp-wprint.h10"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_c_example"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_c_example"><span class="cyan">c++ example</span></a>
      </h2>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">kjcpp</span><span class="special">/</span><span class="identifier">core</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>

<span class="keyword">int</span> <span class="identifier">main</span><span class="special">()</span>
<span class="special">{</span>
	<span class="identifier">kjcpp</span><span class="special">::</span><span class="identifier">wprint</span><span class="special">(</span><span class="identifier">L</span><span class="string">"Hello"</span><span class="special">,</span> <span class="number">2023</span><span class="special">,</span> <span class="identifier">L</span><span class="string">"c++!"</span><span class="special">,</span> <span class="keyword">true</span><span class="special">,</span> <span class="identifier">L</span><span class="char">'M'</span><span class="special">);</span>
<span class="special">}</span>
</pre>
<h2>
<a name="kjcpp-wprint.h11"></a>
        <span class="phrase"><a name="kjcpp-wprint.role_cyan_see_also"></a></span><a class="link" href="kjcpp-wprint.html#kjcpp-wprint.role_cyan_see_also"><span class="cyan">See Also</span></a>
      </h2>
<p>
        <a class="link" href="kjcpp-print.html" title="kjcpp::print">kjcpp::print</a>
      </p>
<p>
        <a class="link" href="kjcpp-printe.html" title="kjcpp::printe">kjcpp::printe</a>
      </p>
<p>
        <a class="link" href="kjcpp-printnl.html" title="kjcpp::printnl">kjcpp::printnl</a>
      </p>
<p>
        <a class="link" href="kjcpp-wprinte.html" title="kjcpp::wprinte">kjcpp::wprinte</a>
      </p>
<p>
        <a class="link" href="kjcpp-wprintnl.html" title="kjcpp::wprintnl">kjcpp::wprintnl</a>
      </p>
<p>
        <br> <br> <br> <br> <br> <br> <br> <br> <br>
      </p>
<p>
        ____________________________________________________________
      </p>
<p>
        <a class="link" href="kjcpp-print.html" title="kjcpp::print">kjcpp::print</a>
      </p>
<p>
        <a href="." target="_top">Kjcpp Home</a>
      </p>
<p>
        <a href="https://cppfx.xyz" target="_top">cppfx.xyz</a>
      </p>
</div>
<div class="copyright-footer">Copyright © 2022-2024 Fas Xmut<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="kjcpp-printnl.html"><img src="images/prev.png" alt="Prev"></a><a accesskey="u" href="print.html"><img src="images/up.png" alt="Up"></a><a accesskey="h" href="index.html"><img src="images/home.png" alt="Home"></a><a accesskey="n" href="kjcpp-wprinte.html"><img src="images/next.png" alt="Next"></a>
</div>
</body>
</html>
